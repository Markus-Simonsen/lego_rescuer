import numpy as np

import matplotlib.pyplot as plt
angle_readings = [249, 249, 249, 243, 243, 243, 243, 241, 241, 241, 241, 235, 235, 235, 235, 235, 235, 235, 235, 235, 228, 228, 228, 228, 228, 229, 228, 228, 228, 228, 229, 229, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 229, 229, 229, 229, 229, 229, 229, 229, 229, 228, 235, 235, 235, 235, 235, 235, 235, 236, 236, 236, 236, 239, 239, 236, 243, 243, 244, 249, 249, 251, 257, 259, 324, 326, 326, 326, 326, 326, 326, 326, 326, 326, 326, 326, 326, 326, 326, 326, 326, 326, 326, 907, 903, 907, 903, 903, 903, 899, 894, 894, 894, 894, 894, 893, 893,
                  893, 893, 893, 893, 891, 891, 887, 887, 887, 887, 887, 887, 887, 887, 883, 883, 883, 883, 881, 883, 883, 878, 878, 878, 878, 878, 878, 877, 877, 877, 877, 877, 877, 877, 877, 877, 877, 877, 877, 877, 877, 877, 873, 877, 877, 872, 872, 872, 872, 872, 872, 872, 872, 872, 872, 872, 871, 871, 872, 871, 872, 872, 871, 871, 871, 871, 871, 871, 871, 871, 871, 871, 871, 871, 871, 871, 871, 871, 871, 871, 871, 871, 871, 871, 872, 871, 871, 871, 871, 872, 871, 871, 871, 871, 871, 872, 872, 872, 871, 872, 872, 872, 872, 872, 872, 877, 877, 877, 877, 877, 877, 877, 877, 877, 877, 878, 878, 878, 878, 878, 878, 878, 881, 883, 878, 878, 878, 878, 883, 883, 887, 887, 887, 887, 887, 887, 887, 887]

log_data = np.genfromtxt('angle_distance1.csv', delimiter=',')
angle_readings = log_data[1:, 1]

min_distance = min(angle_readings)
print(min_distance)
# indices of min value
min_indices = [index for index, value in enumerate(
    angle_readings) if value == min_distance]
# find middle index of min indices
index = min_indices[len(min_indices)//2]

plt.plot(index, angle_readings[index], 'ro')
plt.plot(angle_readings)
plt.show()
